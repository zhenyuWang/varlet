import{A as I}from"./AppType.120606bc.js";import{h as P,r as R}from"./elements.b75de382.js";import{c as L,t as B,a as D,A as O}from"./components.5cba9644.js";import{_ as b}from"./elevation.4d11ec3f.js";import{d as j,r as i,y as q,o as N,c as M,G,a0 as Y,a1 as Z,p as J,m as c,t as n,e as k,a as s,i as a,j as l,F as K,Z as Q,_ as W}from"./vendor.49f89f0d.js";import{S as X}from"./index.7e92c3df.js";import{B as tt}from"./index.88d7d8bc.js";import{d as ot}from"./index.079ade67.js";import{u as et,a as U,_ as at,b as nt,c as st}from"./en-US.628e0d34.js";import{w as ut,a as rt}from"./utils.3a4595f4.js";import"./index.2e362613.js";import"./index.e30cf35b.js";import"./zIndex.8c13fd4c.js";import"./index.48ee5316.js";import"./lock.c5636ec8.js";import"./index.c3ac679f.js";const lt={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const{n:ct}=L("countdown"),F=1e3,g=60*F,E=60*g,T=24*E,mt=j({name:"VarCountdown",props:lt,setup(t){const e=i(0),u=i(!1),o=i(""),v=i(0),h=i(0),r=i({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),d=f=>{const S=Math.floor(f/T),y=Math.floor(f%T/E),C=Math.floor(f%E/g),_=Math.floor(f%g/F),V=Math.floor(f%F),A={days:S,hours:y,minutes:C,seconds:_,milliseconds:V};r.value=A,D(t.onChange,r.value),o.value=O(t.format,A)},p=()=>{const{time:f,onEnd:S,autoStart:y}=t,C=Date.now();e.value||(e.value=C+B(f));let _=e.value-C;if(_<0&&(_=0),h.value=_,d(_),_===0){D(S);return}(y||u.value)&&(v.value=R(p))},m=()=>{u.value||(u.value=!0,e.value=Date.now()+(h.value||B(t.time)),p())},z=()=>{u.value=!1},x=()=>{e.value=0,u.value=!1,P(v.value),p()};return q(()=>t.time,()=>x(),{immediate:!0}),{showTime:o,timeData:r,n:ct,start:m,pause:z,reset:x}}});function it(t,e,u,o,v,h){return N(),M("div",{class:J(t.n())},[G(t.$slots,"default",Y(Z(t.timeData)),()=>[c(n(t.showTime),1)])],2)}var w=b(mt,[["render",it]]);w.install=function(t){t.component(w.name,w)};var dt={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},pt={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:H,use:ft,pack:_t,packs:Rt,merge:Lt}=et(),vt=t=>{st(t),ft(t)};U("zh-CN",at);U("en-US",nt);H("zh-CN",dt);H("en-US",pt);const ht={name:"CountdownExample",components:{VarCountdown:w,VarButton:tt,AppType:I},setup(){const t=i(null),e=i(3e3),u=()=>{X.info("end!")},o=()=>{console.log("change")};return ut(vt),rt(ot),{time:e,pack:_t,end:u,countdown:t,change:o}}},$=t=>(Q("data-v-4f9fa9e9"),t=t(),W(),t),Ct={class:"block"},wt=$(()=>s("span",{class:"colon"},":",-1)),St={class:"block"},yt=$(()=>s("span",{class:"colon"},":",-1)),kt={class:"block"},Ft={class:"btn-container"};function gt(t,e,u,o,v,h){const r=k("app-type"),d=k("var-countdown"),p=k("var-button");return N(),M(K,null,[s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.basicUsage),1)]),_:1}),a(d,{time:"108000000"})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.customFormat),1)]),_:1}),a(d,{time:"108000000",format:o.pack.format},null,8,["format"])]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.showMillisecond),1)]),_:1}),a(d,{time:"108000000",format:"HH : mm : ss : SS"})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.customStyle),1)]),_:1}),a(d,{time:"108000000"},{default:l(m=>[s("span",Ct,n(m.hours),1),wt,s("span",St,n(m.minutes),1),yt,s("span",kt,n(m.seconds),1)]),_:1})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.manualControl),1)]),_:1}),a(d,{time:o.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:o.end,onChange:o.change},null,8,["time","onEnd","onChange"]),s("div",Ft,[a(p,{type:"primary",onClick:e[0]||(e[0]=m=>t.$refs.countdown.start())},{default:l(()=>[c(n(o.pack.startText),1)]),_:1}),a(p,{onClick:e[1]||(e[1]=m=>t.$refs.countdown.pause())},{default:l(()=>[c(n(o.pack.pauseText),1)]),_:1}),a(p,{onClick:e[2]||(e[2]=m=>t.$refs.countdown.reset())},{default:l(()=>[c(n(o.pack.resetText),1)]),_:1})])])],64)}var Ot=b(ht,[["render",gt],["__scopeId","data-v-4f9fa9e9"]]);export{Ot as default};
