import{x as h,C as s}from"./vendor.49f89f0d.js";function d(e){return e.replace(/([A-Z])/g," $1").trim().split(" ").join("-").toLowerCase()}function m(e){return Object.entries(e!=null?e:{}).reduce((t,[n,o])=>{const a=n.startsWith("--")?n:`--${d(n)}`;return t[a]=o,t},{})}const r=[];function u(e={}){r.forEach(n=>document.documentElement.style.removeProperty(n)),r.length=0;const t=m(e);Object.entries(t).forEach(([n,o])=>{document.documentElement.style.setProperty(n,o),r.push(n)})}function l(){const[,e,t]=window.location.hash.split("/");return{language:e,menuName:t}}function i(){const{href:e}=window.location,t=e.slice(e.indexOf("?"));return new URLSearchParams(t)}function p(e,t="mobile"){const n=()=>{var a;const o=t==="mobile"?(a=i().get("language"))!=null?a:"zh-CN":l().language;e(o)};c(n),n()}function E(e){const t=()=>{var o;const n=(o=i().get("platform"))!=null?o:"mobile";e(n)};c(t),t()}function w(e,t=!0){const n=o=>{const{data:a}=o;a.action==="themesChange"&&e(a.data,a.from)};window.addEventListener("message",n),t&&s(()=>{window.removeEventListener("message",n)}),e(g(),"default")}function c(e){h(()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),s(()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function g(e="VARLET_THEMES"){var n;let t=window.localStorage.getItem(e);return t||(t=((n=window.matchMedia)==null?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)?"darkThemes":"themes",window.localStorage.setItem(e,t)),t}function L(e,t){w(n=>{u(n==="darkThemes"?e:null),t==null||t(n)})}export{L as a,E as b,g,p as w};
