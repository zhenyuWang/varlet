import{A as I}from"./AppType.6775b756.js";import{h as P,r as R}from"./elements.600984cd.js";import{t as T,A as L}from"./components.57927f97.js";import{_ as E}from"./elevation.229458c1.js";import{d as O,r as i,y as j,o as M,c as N,G as q,a0 as G,a1 as Y,m as c,t as n,e as k,a as s,i as a,j as l,F as Z,Z as J,_ as K}from"./vendor.49f89f0d.js";import{S as Q}from"./index.5725f1a9.js";import{B as W}from"./index.2ee2c45e.js";import{d as X}from"./index.9b1139e6.js";import{u as tt,a as U,_ as ot,b as et,c as at}from"./en-US.628e0d34.js";import{w as nt,a as st}from"./utils.3a4595f4.js";import"./index.fa8800b2.js";import"./index.6428d33d.js";import"./zIndex.8c13fd4c.js";import"./index.48ee5316.js";import"./lock.c5636ec8.js";import"./index.6e927d89.js";const ut={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:{type:Function},onChange:{type:Function}};const F=1e3,g=60*F,x=60*g,b=24*x,rt=O({name:"VarCountdown",props:ut,setup(t){const e=i(0),u=i(!1),o=i(""),h=i(0),C=i(0),r=i({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),d=p=>{var D;const v=Math.floor(p/b),y=Math.floor(p%b/x),w=Math.floor(p%x/g),_=Math.floor(p%g/F),z=Math.floor(p%F),B={days:v,hours:y,minutes:w,seconds:_,milliseconds:z};r.value=B,(D=t.onChange)==null||D.call(t,r.value),o.value=L(t.format,B)},f=()=>{const{time:p,onEnd:v,autoStart:y}=t,w=Date.now();e.value||(e.value=w+T(p));let _=e.value-w;if(_<0&&(_=0),C.value=_,d(_),_===0){v==null||v();return}(y||u.value)&&(h.value=R(f))},m=()=>{u.value||(u.value=!0,e.value=Date.now()+(C.value||T(t.time)),f())},V=()=>{u.value=!1},A=()=>{e.value=0,u.value=!1,P(h.value),f()};return j(()=>t.time,()=>A(),{immediate:!0}),{showTime:o,timeData:r,start:m,pause:V,reset:A}}}),lt={class:"var-countdown"};function ct(t,e,u,o,h,C){return M(),N("div",lt,[q(t.$slots,"default",G(Y(t.timeData)),()=>[c(n(t.showTime),1)])])}var S=E(rt,[["render",ct]]);S.install=function(t){t.component(S.name,S)};var mt={basicUsage:"\u57FA\u672C\u4F7F\u7528",customFormat:"\u81EA\u5B9A\u4E49\u683C\u5F0F",showMillisecond:"\u663E\u793A\u6BEB\u79D2",customStyle:"\u81EA\u5B9A\u4E49\u6837\u5F0F",manualControl:"\u624B\u52A8\u63A7\u5236",format:"DD \u5929 HH \u65F6 mm \u5206 ss \u79D2",startText:"\u5F00\u59CB",pauseText:"\u6682\u505C",resetText:"\u91CD\u7F6E"},it={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"};const{add:H,use:dt,pack:ft,packs:It,merge:Pt}=tt(),pt=t=>{at(t),dt(t)};U("zh-CN",ot);U("en-US",et);H("zh-CN",mt);H("en-US",it);const _t={name:"CountdownExample",components:{VarCountdown:S,VarButton:W,AppType:I},setup(){const t=i(null),e=i(3e3),u=()=>{Q.info("end!")},o=()=>{console.log("change")};return nt(pt),st(X),{time:e,pack:ft,end:u,countdown:t,change:o}}},$=t=>(J("data-v-4f9fa9e9"),t=t(),K(),t),vt={class:"block"},ht=$(()=>s("span",{class:"colon"},":",-1)),Ct={class:"block"},wt=$(()=>s("span",{class:"colon"},":",-1)),St={class:"block"},yt={class:"btn-container"};function kt(t,e,u,o,h,C){const r=k("app-type"),d=k("var-countdown"),f=k("var-button");return M(),N(Z,null,[s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.basicUsage),1)]),_:1}),a(d,{time:"108000000"})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.customFormat),1)]),_:1}),a(d,{time:"108000000",format:o.pack.format},null,8,["format"])]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.showMillisecond),1)]),_:1}),a(d,{time:"108000000",format:"HH : mm : ss : SS"})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.customStyle),1)]),_:1}),a(d,{time:"108000000"},{default:l(m=>[s("span",vt,n(m.hours),1),ht,s("span",Ct,n(m.minutes),1),wt,s("span",St,n(m.seconds),1)]),_:1})]),s("div",null,[a(r,null,{default:l(()=>[c(n(o.pack.manualControl),1)]),_:1}),a(d,{time:o.time,ref:"countdown","auto-start":!1,format:"ss : SSS",onEnd:o.end,onChange:o.change},null,8,["time","onEnd","onChange"]),s("div",yt,[a(f,{type:"primary",onClick:e[0]||(e[0]=m=>t.$refs.countdown.start())},{default:l(()=>[c(n(o.pack.startText),1)]),_:1}),a(f,{onClick:e[1]||(e[1]=m=>t.$refs.countdown.pause())},{default:l(()=>[c(n(o.pack.pauseText),1)]),_:1}),a(f,{onClick:e[2]||(e[2]=m=>t.$refs.countdown.reset())},{default:l(()=>[c(n(o.pack.resetText),1)]),_:1})])])],64)}var Rt=E(_t,[["render",kt],["__scopeId","data-v-4f9fa9e9"]]);export{Rt as default};
