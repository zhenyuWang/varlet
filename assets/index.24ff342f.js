import{d as S,r as f,x as h,Y as B,e as p,o as m,l as g,a as T,G as C,p as V,n as $,R as w,I as E,i as v,j as _,c as k,F as N,k as z,m as I,t as j}from"./vendor.49f89f0d.js";import{B as L}from"./index.dc4624d0.js";import{I as U}from"./index.d410b4f8.js";import{v as x,w as F,g as M,x as O}from"./components.57927f97.js";import{c as D,t as H,d as P,e as q,f as A,b as G}from"./elements.600984cd.js";import{_ as y}from"./elevation.4d11ec3f.js";import{C as R}from"./index.6fefdd63.js";import{d as Y}from"./index.aae57b26.js";import{a as J}from"./utils.3a4595f4.js";import"./index.6e927d89.js";import"./index.48ee5316.js";import"./index.9e0cd9a2.js";const K={visibilityHeight:{type:[Number,String],default:200},duration:{type:Number,default:300},right:{type:[Number,String]},bottom:{type:[Number,String]},target:{type:[String,Object]},onClick:{type:Function}};const Q=S({name:"VarBackTop",components:{VarButton:L,VarIcon:U},props:K,setup(t){const o=f(!1),l=f(null),n=f(!0);let e;const d=s=>{var b;(b=t.onClick)==null||b.call(t,s);const i=P(e);q(e,{left:i,duration:t.duration,animation:x})},r=F(()=>{o.value=A(e)>=G(t.visibilityHeight)},200),a=()=>{const{target:s}=t;if(M(s)){const i=document.querySelector(t.target);if(!i)throw Error("[Varlet] BackTop: target element cannot found");return i}if(O(s))return s;throw Error('[Varlet] BackTop: type of prop "target" should be a selector or an element object')};return h(()=>{e=t.target?a():D(l.value),e.addEventListener("scroll",r),n.value=!1}),B(()=>{e.removeEventListener("scroll",r)}),{disabled:n,show:o,backTopEl:l,toSizeUnit:H,click:d}}});function W(t,o,l,n,e,d){const c=p("var-icon"),r=p("var-button");return m(),g(E,{to:"body",disabled:t.disabled},[T("div",{class:V(["var-back-top",[t.show?"var-back-top--active":null]]),ref:"backTopEl",style:$({right:t.toSizeUnit(t.right),bottom:t.toSizeUnit(t.bottom)}),onClick:o[0]||(o[0]=w((...a)=>t.click&&t.click(...a),["stop"]))},[C(t.$slots,"default",{},()=>[v(r,{type:"primary",round:"","var-back-top-cover":""},{default:_(()=>[v(c,{name:"chevron-up"})]),_:1})])],6)],8,["disabled"])}var u=y(Q,[["render",W]]);u.install=function(t){t.component(u.name,u)};const X=[...Array(100).keys()],Z={name:"BackTopExample",components:{VarBackTop:u,VarCell:R},setup(){return J(Y),{lists:X}}};function tt(t,o,l,n,e,d){const c=p("var-cell"),r=p("var-back-top");return m(),k("div",null,[(m(!0),k(N,null,z(n.lists,a=>(m(),g(c,{key:a},{default:_(()=>[I("Scroll to bottom "+j(a),1)]),_:2},1024))),128)),v(r,{duration:300})])}var dt=y(Z,[["render",tt]]);export{dt as default};
