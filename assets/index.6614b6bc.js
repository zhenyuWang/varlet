import{F as N,u as P}from"./provide.47462b1f.js";import{j as J,l as L,d as U,a as t,c as w,h as Q,m as X}from"./components.5cba9644.js";import{_ as E}from"./elevation.4d11ec3f.js";import{d as j,b as K,y as I,e as T,o as z,c as B,a as F,G as C,p as u,i as A,z as W,r as M,f as Z,w as x,n as ee,H as ae}from"./vendor.49f89f0d.js";import{I as oe}from"./index.e30cf35b.js";import{R as ne}from"./index.cb4064b0.js";function re(e){return["horizontal","vertical"].includes(e)}const se={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:re},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}},Y=Symbol("RADIO_GROUP_BIND_RADIO_KEY"),_=Symbol("RADIO_GROUP_COUNT_RADIO_KEY");function le(){const{bindChildren:e,childProviders:o}=J(Y),{length:s}=L(_);return{length:s,radios:o,bindRadios:e}}const{n:ie,classes:te}=w("radio-group"),de=j({name:"VarRadioGroup",components:{VarFormDetails:N},props:se,setup(e){const{length:o,radios:s,bindRadios:m}=le(),{bindForm:l}=P(),{errorMessage:v,validateWithTrigger:a,validate:h,resetValidation:c}=U(),p=K(()=>v.value),D=d=>{W(()=>{const{validateTrigger:b,rules:O,modelValue:V}=e;a(b,d,O,V)})},g=()=>s.forEach(({sync:d})=>d(e.modelValue)),$=d=>{t(e["onUpdate:modelValue"],d),t(e.onChange,d),D("onChange")},f=()=>h(e.rules,e.modelValue),y=()=>{t(e["onUpdate:modelValue"],void 0),c()};I(()=>e.modelValue,g),I(()=>o.value,g);const k={onToggle:$,validate:f,reset:y,resetValidation:c,errorMessage:p};return t(l,k),m(k),{errorMessage:v,n:ie,classes:te,reset:y,validate:f,resetValidation:c}}});function ce(e,o,s,m,l,v){const a=T("var-form-details");return z(),B("div",{class:u(e.n("wrap"))},[F("div",{class:u(e.classes(e.n(),e.n(`--${e.direction}`)))},[C(e.$slots,"default")],2),A(a,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var S=E(de,[["render",ce]]);S.install=function(e){e.component(S.name,S)};const ue={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};function me(){const{bindParent:e,parentProvider:o}=Q(Y),{index:s}=X(_);return{index:s,radioGroup:o,bindRadioGroup:e}}const{n:ve,classes:ge}=w("radio"),he=j({name:"VarRadio",directives:{Ripple:ne},components:{VarIcon:oe,VarFormDetails:N},inheritAttrs:!1,props:ue,setup(e){const o=M(!1),s=K(()=>o.value===e.checkedValue),m=M(!1),{radioGroup:l,bindRadioGroup:v}=me(),{form:a,bindForm:h}=P(),{errorMessage:c,validateWithTrigger:p,validate:D,resetValidation:g}=U(),$=n=>{W(()=>{const{validateTrigger:r,rules:i,modelValue:R}=e;p(r,n,i,R)})},f=n=>{const{checkedValue:r,onChange:i}=e;l&&o.value===r||(o.value=n,t(e["onUpdate:modelValue"],o.value),t(i,o.value),l==null||l.onToggle(r),$("onChange"))},y=n=>{const{disabled:r,readonly:i,uncheckedValue:R,checkedValue:H,onClick:q}=e;(a==null?void 0:a.disabled.value)||r||(t(q,n),!((a==null?void 0:a.readonly.value)||i)&&(m.value=!0,f(s.value?R:H)))},k=n=>{const{checkedValue:r,uncheckedValue:i}=e;o.value=n===r?r:i},d=()=>{t(e["onUpdate:modelValue"],e.uncheckedValue),g()},b=()=>D(e.rules,e.modelValue),O=n=>{const{uncheckedValue:r,checkedValue:i}=e;![r,i].includes(n)&&(n=s.value?r:i),f(n)};I(()=>e.modelValue,n=>{o.value=n},{immediate:!0});const V={sync:k,validate:b,resetValidation:g,reset:d};return t(v,V),t(h,V),{withAnimation:m,checked:s,errorMessage:c,radioGroupErrorMessage:l==null?void 0:l.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,n:ve,classes:ge,handleClick:y,toggle:O,reset:d,validate:b,resetValidation:g}}});function pe(e,o,s,m,l,v){const a=T("var-icon"),h=T("var-form-details"),c=Z("ripple");return z(),B("div",{class:u(e.n("wrap"))},[F("div",ae({class:e.n(),onClick:o[0]||(o[0]=(...p)=>e.handleClick&&e.handleClick(...p))},e.$attrs),[x((z(),B("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ee({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?C(e.$slots,"checked-icon",{key:0},()=>[A(a,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):C(e.$slots,"unchecked-icon",{key:1},()=>[A(a,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])])],6)),[[c,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),F("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[C(e.$slots,"default")],2)],16),A(h,{"error-message":e.errorMessage},null,8,["error-message"])],2)}var G=E(he,[["render",pe]]);G.install=function(e){e.component(G.name,G)};export{S as R,G as a};
