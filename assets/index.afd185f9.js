import{F as T,u as z}from"./provide.aaf68c99.js";import{a as B}from"./components.40efc8e7.js";import{u as E}from"./index.87c05cef.js";import{u as x}from"./shared.506a394a.js";import{_ as N}from"./elevation.780c6b73.js";import{d as S,b as s,y as C,e as w,o as D,c as W,a as q,G as P,p as j,i as H,z as I}from"./vendor.4723551d.js";function J(e){return["horizontal","vertical"].includes(e)}const K={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const L=S({name:"VarCheckboxGroup",components:{VarFormDetails:T},props:K,setup(e){const u=s(()=>e.max),d=s(()=>e.modelValue.length),{length:m,checkboxes:l,bindCheckboxes:h}=E(),{bindForm:c}=z(),{errorMessage:v,validateWithTrigger:b,validate:y,resetValidation:r}=B(),G=s(()=>v.value),U=a=>{I(()=>{const{validateTrigger:t,rules:o,modelValue:n}=e;b(t,a,o,n)})},g=a=>{var t,o;(t=e["onUpdate:modelValue"])==null||t.call(e,a),(o=e.onChange)==null||o.call(e,a),U("onChange")},$=a=>{const{modelValue:t}=e;t.includes(a)||g([...t,a])},A=a=>{const{modelValue:t}=e;!t.includes(a)||g(t.filter(o=>o!==a))},f=()=>l.forEach(({sync:a})=>a(e.modelValue)),F=()=>{var o;const a=l.map(({checkedValue:n})=>n.value),t=x(a);return(o=e["onUpdate:modelValue"])==null||o.call(e,t),t},M=()=>{var o;const a=l.filter(({checked:n})=>!n.value).map(({checkedValue:n})=>n.value),t=x(a);return(o=e["onUpdate:modelValue"])==null||o.call(e,t),t},k=()=>{var a;(a=e["onUpdate:modelValue"])==null||a.call(e,[]),r()},V=()=>y(e.rules,e.modelValue);C(()=>e.modelValue,f,{deep:!0}),C(()=>m.value,f);const _={max:u,checkedCount:d,onChecked:$,onUnchecked:A,validate:V,resetValidation:r,reset:k,errorMessage:G};return h(_),c==null||c(_),{errorMessage:v,checkAll:F,inverseAll:M,reset:k,validate:V,resetValidation:r}}}),O={class:"var-checkbox-group__wrap"};function Q(e,u,d,m,l,h){const c=w("var-form-details");return D(),W("div",O,[q("div",{class:j(["var-checkbox-group",[`var-checkbox-group--${e.direction}`]])},[P(e.$slots,"default")],2),H(c,{"error-message":e.errorMessage},null,8,["error-message"])])}var i=N(L,[["render",Q]]);i.install=function(e){e.component(i.name,i)};export{i as C};
