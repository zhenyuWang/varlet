import{d as h,r as f,x as S,Y as B,e as p,o as m,l as g,a as T,G as C,p as V,n as $,R as E,I as N,i as b,j as _,c as k,F as w,k as j,m as z,t as I}from"./vendor.49f89f0d.js";import{B as L}from"./index.cf5b234d.js";import{I as U}from"./index.8b4cefd8.js";import{h as F,j as M,c as O,l as x}from"./shared.506a394a.js";import{c as D,t as H,d as P,e as q,f as A,b as G}from"./elements.92736b4e.js";import{_ as y}from"./elevation.ef1405ab.js";import{C as R}from"./index.65f7e6e6.js";import{d as Y}from"./index.9b1139e6.js";import{a as J}from"./utils.3a4595f4.js";import"./index.f8492b74.js";import"./index.48ee5316.js";import"./index.0c2cadf9.js";import"./components.721843ff.js";const K={visibilityHeight:{type:[Number,String],default:200},duration:{type:Number,default:300},right:{type:[Number,String]},bottom:{type:[Number,String]},target:{type:[String,Object]},onClick:{type:Function}};const Q=h({name:"VarBackTop",components:{VarButton:L,VarIcon:U},props:K,setup(t){const o=f(!1),l=f(null),n=f(!0);let e;const d=s=>{var v;(v=t.onClick)==null||v.call(t,s);const i=P(e);q(e,{left:i,duration:t.duration,animation:F})},r=M(()=>{o.value=A(e)>=G(t.visibilityHeight)},200),a=()=>{const{target:s}=t;if(O(s)){const i=document.querySelector(t.target);if(!i)throw Error("[Varlet] BackTop: target element cannot found");return i}if(x(s))return s;throw Error('[Varlet] BackTop: type of prop "target" should be a selector or an element object')};return S(()=>{e=t.target?a():D(l.value),e.addEventListener("scroll",r),n.value=!1}),B(()=>{e.removeEventListener("scroll",r)}),{disabled:n,show:o,backTopEl:l,toSizeUnit:H,click:d}}});function W(t,o,l,n,e,d){const c=p("var-icon"),r=p("var-button");return m(),g(N,{to:"body",disabled:t.disabled},[T("div",{class:V(["var-back-top",[t.show?"var-back-top--active":null]]),ref:"backTopEl",style:$({right:t.toSizeUnit(t.right),bottom:t.toSizeUnit(t.bottom)}),onClick:o[0]||(o[0]=E((...a)=>t.click&&t.click(...a),["stop"]))},[C(t.$slots,"default",{},()=>[b(r,{type:"primary",round:"","var-back-top-cover":""},{default:_(()=>[b(c,{name:"chevron-up"})]),_:1})])],6)],8,["disabled"])}var u=y(Q,[["render",W]]);u.install=function(t){t.component(u.name,u)};const X=[...Array(100).keys()],Z={name:"BackTopExample",components:{VarBackTop:u,VarCell:R},setup(){return J(Y),{lists:X}}};function tt(t,o,l,n,e,d){const c=p("var-cell"),r=p("var-back-top");return m(),k("div",null,[(m(!0),k(w,null,j(n.lists,a=>(m(),g(c,{key:a},{default:_(()=>[z("Scroll to bottom "+I(a),1)]),_:2},1024))),128)),b(r,{duration:300})])}var ft=y(Z,[["render",tt]]);export{ft as default};
