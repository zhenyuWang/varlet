import{b as C,h as z,c as B}from"./elements.6395be39.js";import{t as N}from"./shared.506a394a.js";import{_ as H}from"./elevation.85e837d8.js";import{d as I,r as t,b as c,y as R,D,E as P,x as V,C as A,o as G,c as O,a as U,G as j,n as M,p as q}from"./vendor.6bd64832.js";const J={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:{type:Function}};const K=I({name:"VarSticky",props:J,setup(e){const i=t(null),l=t(null),n=t(!1),r=t("0px"),f=t("0px"),m=t("auto"),b=t("auto"),y=t("auto"),h=t("auto"),k=c(()=>!e.disabled&&e.cssMode),$=c(()=>!e.disabled&&n.value),d=c(()=>C(e.offsetTop));let o;const a=()=>{const{onScroll:s,cssMode:E,disabled:F}=e;if(F)return;let p=0;if(o!==window){const{top:T}=o.getBoundingClientRect();p=T}const g=l.value,u=i.value,{top:W,left:L}=u.getBoundingClientRect(),S=W-p;S<=d.value?(E||(m.value=`${u.offsetWidth}px`,b.value=`${u.offsetHeight}px`,r.value=`${p+d.value}px`,f.value=`${L}px`,y.value=`${g.offsetWidth}px`,h.value=`${g.offsetHeight}px`,n.value=!0),s==null||s(d.value,!0)):(n.value=!1,s==null||s(S,!1))},x=async()=>{await z(),o=B(i.value),o!==window&&o.addEventListener("scroll",a),window.addEventListener("scroll",a),a()},w=()=>{o!==window&&o.removeEventListener("scroll",a),window.removeEventListener("scroll",a)};return R(()=>e.disabled,a),D(x),P(w),V(x),A(w),{stickyEl:i,wrapperEl:l,isFixed:n,offsetTop:d,fixedTop:r,fixedLeft:f,fixedWidth:m,fixedHeight:b,fixedWrapperWidth:y,fixedWrapperHeight:h,enableCSSMode:k,enableFixedMode:$,toNumber:N}}});function Q(e,i,l,n,r,f){return G(),O("div",{class:q(["var-sticky",[e.enableCSSMode?"var-sticky--css-mode":null]]),ref:"stickyEl",style:M({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[U("div",{class:"var-sticky__wrapper",ref:"wrapperEl",style:M({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[j(e.$slots,"default")],4)],6)}var v=H(K,[["render",Q]]);v.install=function(e){e.component(v.name,v)};export{v as S,J as p};
