var b=Object.defineProperty;var h=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(e,n,o)=>n in e?b(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,f=(e,n)=>{for(var o in n||(n={}))B.call(n,o)&&y(e,o,n[o]);if(h)for(var o of h(n))P.call(n,o)&&y(e,o,n[o]);return e};import{R}from"./index.e35ca8e8.js";import{p as z,P as V}from"./index.5e919428.js";import{I}from"./index.7c3210da.js";import{p as U,m as A}from"./components.721843ff.js";import{f as F,g as D}from"./shared.506a394a.js";import{p as N}from"./en-US.628e0d34.js";import{_ as T}from"./elevation.69c766bc.js";import{d as j,r as q,y as E,e as C,f as G,o as p,l as k,j as H,a as u,G as w,H as _,t as S,c as g,k as L,w as J,p as K,n as M,h as Q,F as W,q as X,z as Y}from"./vendor.49f89f0d.js";const Z=f({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},U(z,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const x=j({name:"VarActionSheet",directives:{Ripple:R},components:{VarPopup:V,VarIcon:I},inheritAttrs:!1,props:Z,setup(e){const n=q(!1),o=a=>{var c;if(a.disabled)return;const{closeOnClickAction:s,onSelect:r}=e;r==null||r(a),s&&((c=e["onUpdate:show"])==null||c.call(e,!1))};return E(()=>e.show,a=>{n.value=a},{immediate:!0}),{popupShow:n,pack:N,dt:F,handleSelect:o}}}),ee={class:"var-action-sheet__title"},oe=["onClick"],ne={class:"var-action-sheet__action-name"};function se(e,n,o,a,s,r){const c=C("var-icon"),O=C("var-popup"),$=G("ripple");return p(),k(O,_({class:"var-action-sheet__popup-radius",position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":l=>{var m,v;return(v=(m=e.$props)["onUpdate:show"])==null?void 0:v.call(m,l)}},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:H(()=>[u("div",_({class:"var-action-sheet var--box"},e.$attrs),[w(e.$slots,"title",{},()=>[u("div",ee,S(e.dt(e.title,e.pack.actionSheetTitle)),1)]),w(e.$slots,"actions",{},()=>[(p(!0),g(W,null,L(e.actions,l=>J((p(),g("div",{class:K(["var-action-sheet__action-item",[l.className,l.disabled?"var-action-sheet--disabled":null]]),key:l.name,style:M({color:l.color}),onClick:m=>e.handleSelect(l)},[l.icon?(p(),k(c,{key:0,class:"var-action-sheet__action-icon","var-action-sheet-cover":"",name:l.icon,size:l.iconSize},null,8,["name","size"])):Q("v-if",!0),u("div",ne,S(l.name),1)],14,oe)),[[$,{disabled:l.disabled}]])),128))])],16)]),_:3},16,["overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var i=T(x,[["render",se]]);let t;function d(e){return D()?new Promise(n=>{d.close();const o=X(e);o.teleport="body",t=o;const{unmountInstance:a}=A(i,o,{onSelect:s=>{var r;(r=o.onSelect)==null||r.call(o,s),n(s)},onClose:()=>{var s;(s=o.onClose)==null||s.call(o),n("close")},onClosed:()=>{var s;(s=o.onClosed)==null||s.call(o),a(),t===o&&(t=null)},onRouteChange:()=>{a(),t===o&&(t=null)},"onUpdate:show":s=>{o.show=s}});o.show=!0}):Promise.resolve()}d.Component=i;i.install=function(e){e.component(i.name,i)};d.close=()=>{if(t!=null){const e=t;t=null,Y().then(()=>{e.show=!1})}};d.install=function(e){e.component(i.name,i)};export{d as A};
