var B=Object.defineProperty;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var y=(e,s,o)=>s in e?B(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,C=(e,s)=>{for(var o in s||(s={}))P.call(s,o)&&y(e,o,s[o]);if(v)for(var o of v(s))R.call(s,o)&&y(e,o,s[o]);return e};import{R as z}from"./index.6e927d89.js";import{p as V,P as I}from"./index.8797b76f.js";import{I as U}from"./index.6428d33d.js";import{p as A,d as m,o as F,c as N,q as D,r as q}from"./components.57927f97.js";import{p as T}from"./en-US.628e0d34.js";import{_ as j}from"./elevation.229458c1.js";import{d as E,r as G,y as H,e as h,f as L,o as i,l as f,j as J,a as u,G as k,H as w,p as c,t as S,c as g,k as K,w as M,n as Q,h as W,F as X,q as Y,z as Z}from"./vendor.49f89f0d.js";const _=C({show:{type:Boolean,default:!1},actions:{type:Array,default:()=>[]},title:{type:String},closeOnClickAction:{type:Boolean,default:!0},onSelect:{type:Function},"onUpdate:show":{type:Function}},A(V,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const{n:x,classes:ee}=N("action-sheet"),oe=E({name:"VarActionSheet",directives:{Ripple:z},components:{VarPopup:I,VarIcon:U},inheritAttrs:!1,props:_,setup(e){const s=G(!1),o=a=>{if(a.disabled)return;const{closeOnClickAction:n,onSelect:p}=e;m(p,a),n&&m(e["onUpdate:show"],!1)};return H(()=>e.show,a=>{s.value=a},{immediate:!0}),{n:x,classes:ee,call:m,popupShow:s,pack:T,dt:F,handleSelect:o}}}),se=["onClick"];function ne(e,s,o,a,n,p){const O=h("var-icon"),$=h("var-popup"),b=L("ripple");return i(),f($,w({class:e.n("popup-radius"),position:"bottom",overlay:e.overlay,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,"lock-scroll":e.lockScroll,"close-on-click-overlay":e.closeOnClickOverlay,teleport:e.teleport,show:e.popupShow},{"onUpdate:show":l=>e.call(e.$props["onUpdate:show"],l)},{onOpen:e.onOpen,onClose:e.onClose,onClosed:e.onClosed,onOpened:e.onOpened,onRouteChange:e.onRouteChange}),{default:J(()=>[u("div",w({class:e.classes(e.n(),"var--box")},e.$attrs),[k(e.$slots,"title",{},()=>[u("div",{class:c(e.n("title"))},S(e.dt(e.title,e.pack.actionSheetTitle)),3)]),k(e.$slots,"actions",{},()=>[(i(!0),g(X,null,K(e.actions,l=>M((i(),g("div",{class:c(e.classes(e.n("action-item"),l.className,[l.disabled,e.n("--disabled")])),key:l.name,style:Q({color:l.color}),onClick:le=>e.handleSelect(l)},[l.icon?(i(),f(O,{key:0,class:c(e.n("action-icon")),"var-action-sheet-cover":"",name:l.icon,size:l.iconSize},null,8,["class","name","size"])):W("v-if",!0),u("div",{class:c(e.n("action-name"))},S(l.name),3)],14,se)),[[b,{disabled:l.disabled}]])),128))])],16)]),_:3},16,["class","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","show","onOpen","onClose","onClosed","onOpened","onRouteChange"])}var r=j(oe,[["render",ne]]);let t;function d(e){return D()?new Promise(s=>{d.close();const o=Y(e);o.teleport="body",t=o;const{unmountInstance:a}=q(r,o,{onSelect:n=>{var p;(p=o.onSelect)==null||p.call(o,n),s(n)},onClose:()=>{var n;(n=o.onClose)==null||n.call(o),s("close")},onClosed:()=>{var n;(n=o.onClosed)==null||n.call(o),a(),t===o&&(t=null)},onRouteChange:()=>{a(),t===o&&(t=null)},"onUpdate:show":n=>{o.show=n}});o.show=!0}):Promise.resolve()}d.Component=r;r.install=function(e){e.component(r.name,r)};d.close=()=>{if(t!=null){const e=t;t=null,Z().then(()=>{e.show=!1})}};d.install=function(e){e.component(r.name,r)};export{d as A};
