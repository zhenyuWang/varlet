var S=Object.defineProperty;var c=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var d=(e,o,a)=>o in e?S(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,p=(e,o)=>{for(var a in o||(o={}))g.call(o,a)&&d(e,a,o[a]);if(c)for(var a of c(o))O.call(o,a)&&d(e,a,o[a]);return e};import{d as j,y as x,i as l,I as k,T as v,w as F,v as I,H as P,J as _}from"./vendor.efca09d3.js";import{u as z}from"./lock.363e6814.js";import{u as B}from"./zIndex.2548bfbd.js";import{u as T,g as V}from"./components.8013e964.js";import"./index.b50b8baf.js";function A(e){return["top","bottom","right","left","center"].includes(e)}const L={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:A},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function R(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!_(e)}var u=j({name:"VarPopup",inheritAttrs:!1,props:L,setup(e,{slots:o,attrs:a}){const{zIndex:i}=B(()=>e.show,3),{disabled:y}=T(),f=()=>{var r;const{closeOnClickOverlay:t,onClickOverlay:n}=e;n==null||n(),!!t&&((r=e["onUpdate:show"])==null||r.call(e,!1))};z(e,"show","lockScroll"),x(()=>e.show,t=>{const{onOpen:n,onClose:r}=e;t?n==null||n():r==null||r()}),V(()=>{var t;return(t=e.onRouteChange)==null?void 0:t.call(e)});const m=()=>{const{overlayClass:t,overlayStyle:n}=e;return l("div",{class:["var-popup__overlay",t],style:p({zIndex:i.value-1},n),onClick:f},null)},h=()=>{var t;return l("div",P({class:["var-popup__content","var-elevation--3",`var-popup--${e.position}`],style:{zIndex:i.value}},a),[(t=o.default)==null?void 0:t.call(o)])},s=()=>{const{onOpened:t,onClosed:n,show:r,overlay:b,transition:w,position:C}=e;return l(v,{name:"var-fade",onAfterEnter:t,onAfterLeave:n},{default:()=>[F(l("div",{class:"var--box var-popup",style:{zIndex:i.value-2}},[b&&m(),l(v,{name:w||`var-pop-${C}`},{default:()=>[r&&h()]})]),[[I,r]])]})};return()=>{const{teleport:t}=e;if(t){let n;return l(k,{to:t,disabled:y.value},R(n=s())?n:{default:()=>[n]})}return s()}}});u.install=function(e){e.component(u.name,u)};export{u as P,L as p};
