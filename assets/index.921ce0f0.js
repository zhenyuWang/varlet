import{a as D}from"./components.8013e964.js";import{t as k}from"./shared.506a394a.js";import{F as N,u as F}from"./provide.8fd834d0.js";import{L as A}from"./index.167add38.js";import{R}from"./index.b50b8baf.js";import{_ as L}from"./elevation.f7de2a7a.js";import{d as T,b as U,z as W,e as S,f as E,o as B,c as H,a as m,n as h,p as V,w as M,l as P,h as q,i as G}from"./vendor.efca09d3.js";const I={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number],default:20},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const J=T({name:"VarSwitch",components:{VarLoading:A,VarFormDetails:N},directives:{Ripple:R},props:I,setup(e){const{bindForm:r,form:a}=F(),{errorMessage:d,validateWithTrigger:_,validate:C,resetValidation:u}=D(),f=()=>C(e.rules,e.modelValue),g=()=>W(()=>_(["onChange"],"onChange",e.rules,e.modelValue)),y=U(()=>{const{size:l,modelValue:t,color:o,closeColor:c,loadingColor:v,activeValue:s}=e,i=k(l),n=i*2,p=i*1.2;return{handle:{width:`${l}px`,height:`${l}px`,backgroundColor:t===s?o||"":c||"",color:v&&v},ripple:{left:t===s?`${i/2}px`:`-${i/2}px`,color:t===s?o||"":c||"#999",width:`${i*2}px`,height:`${i*2}px`},track:{height:`${p*.6}px`,width:`${n-2}px`,borderRadius:`${n/3}px`,filter:t===s||(d==null?void 0:d.value)?"opacity(.6)":"brightness(.6)",backgroundColor:t===s?o||"":c||""},switch:{height:`${p}px`,width:`${n}px`}}}),j=l=>{const{onClick:t,onChange:o,disabled:c,loading:v,readonly:s,modelValue:i,activeValue:n,inactiveValue:p,"onUpdate:modelValue":w}=e;if(t==null||t(l),c||v||s||(a==null?void 0:a.disabled.value)||(a==null?void 0:a.readonly.value))return;const $=i===n?p:n;o==null||o($),w==null||w($),g()},z={reset:()=>{var l;(l=e["onUpdate:modelValue"])==null||l.call(e,e.inactiveValue),u()},validate:f,resetValidation:u};return r==null||r(z),{switchActive:j,toNumber:k,styleComputed:y,errorMessage:d,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly}}}),K={class:"var-switch"};function O(e,r,a,d,_,C){const u=S("var-loading"),f=S("var-form-details"),g=E("ripple");return B(),H("div",K,[m("div",{class:V(["var-switch-block",[e.disabled||e.formDisabled?"var-switch__disable":null]]),onClick:r[0]||(r[0]=(...y)=>e.switchActive&&e.switchActive(...y)),style:h(e.styleComputed.switch)},[m("div",{style:h(e.styleComputed.track),class:V(["var-switch__track",[e.modelValue===e.activeValue?"var-switch__track-active":null,e.errorMessage?"var-switch__track-error":null]])},null,6),M(m("div",{class:"var-switch__ripple",style:h(e.styleComputed.ripple)},[m("div",{style:h(e.styleComputed.handle),class:V(["var-switch__handle var-elevation--2",[e.modelValue===e.activeValue?"var-switch__handle-active":null,e.errorMessage?"var-switch__handle-error":null]])},[e.loading?(B(),P(u,{key:0,radius:e.toNumber(e.size)/2-2},null,8,["radius"])):q("v-if",!0)],6)],4),[[g,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),G(f,{"error-message":e.errorMessage},null,8,["error-message"])])}var b=L(J,[["render",O]]);b.install=function(e){e.component(b.name,b)};export{b as S};
