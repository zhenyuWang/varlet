import{a as F}from"./components.3670f0ad.js";import{t as S}from"./shared.506a394a.js";import{F as A,u as R}from"./provide.964d570d.js";import{L}from"./index.6262ef7e.js";import{R as T}from"./index.7a47c214.js";import{_ as U}from"./elevation.85e837d8.js";import{d as W,b as E,z as H,e as B,f as M,o as w,c as z,a as V,n as p,p as b,w as P,l as j,h as q,i as G}from"./vendor.6bd64832.js";const I={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String},loadingColor:{type:String},closeColor:{type:String},size:{type:[String,Number],default:20},rules:{type:Array},ripple:{type:Boolean,default:!0},onClick:{type:Function},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const J=W({name:"VarSwitch",components:{VarLoading:L,VarFormDetails:A},directives:{Ripple:T},props:I,setup(e){const{bindForm:r,form:a}=R(),{errorMessage:d,validateWithTrigger:C,validate:$,resetValidation:u}=F(),h=()=>$(e.rules,e.modelValue),g=()=>H(()=>C(["onChange"],"onChange",e.rules,e.modelValue)),y=E(()=>{const{size:l,modelValue:t,color:o,closeColor:c,loadingColor:v,activeValue:s}=e,i=S(l),n=i*2,m=i*1.2;return{handle:{width:`${l}px`,height:`${l}px`,backgroundColor:t===s?o||"":c||"",color:v&&v},ripple:{left:t===s?`${i/2}px`:`-${i/2}px`,color:t===s?o||"":c||"#999",width:`${i*2}px`,height:`${i*2}px`},track:{height:`${m*.6}px`,width:`${n-2}px`,borderRadius:`${n/3}px`,filter:t===s||(d==null?void 0:d.value)?"opacity(.6)":"brightness(.6)",backgroundColor:t===s?o||"":c||""},switch:{height:`${m}px`,width:`${n}px`}}}),D=l=>{const{onClick:t,onChange:o,disabled:c,loading:v,readonly:s,modelValue:i,activeValue:n,inactiveValue:m,"onUpdate:modelValue":f}=e;if(t==null||t(l),c||v||s||(a==null?void 0:a.disabled.value)||(a==null?void 0:a.readonly.value))return;const k=i===n?m:n;o==null||o(k),f==null||f(k),g()},N={reset:()=>{var l;(l=e["onUpdate:modelValue"])==null||l.call(e,e.inactiveValue),u()},validate:h,resetValidation:u};return r==null||r(N),{switchActive:D,toNumber:S,styleComputed:y,errorMessage:d,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly}}}),K={class:"var-switch"};function O(e,r,a,d,C,$){const u=B("var-loading"),h=B("var-form-details"),g=M("ripple");return w(),z("div",K,[V("div",{class:b(["var-switch-block",[e.disabled||e.formDisabled?"var-switch__disable":null]]),onClick:r[0]||(r[0]=(...y)=>e.switchActive&&e.switchActive(...y)),style:p(e.styleComputed.switch)},[V("div",{style:p(e.styleComputed.track),class:b(["var-switch__track",[e.modelValue===e.activeValue?"var-switch__track-active":null,e.errorMessage?"var-switch__track-error":null]])},null,6),P((w(),z("div",{class:"var-switch__ripple",style:p(e.styleComputed.ripple)},[V("div",{style:p(e.styleComputed.handle),class:b(["var-switch__handle var-elevation--2",[e.modelValue===e.activeValue?"var-switch__handle-active":null,e.errorMessage?"var-switch__handle-error":null]])},[e.loading?(w(),j(u,{key:0,radius:e.toNumber(e.size)/2-2},null,8,["radius"])):q("v-if",!0)],6)],4)),[[g,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),G(h,{"error-message":e.errorMessage},null,8,["error-message"])])}var _=U(J,[["render",O]]);_.install=function(e){e.component(_.name,_)};export{_ as S};
