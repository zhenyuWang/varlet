var g=Object.defineProperty;var s=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var d=(e,o,a)=>o in e?g(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,p=(e,o)=>{for(var a in o||(o={}))O.call(o,a)&&d(e,a,o[a]);if(s)for(var a of s(o))b.call(o,a)&&d(e,a,o[a]);return e};import{d as x,y as F,i as l,I as k,T as y,w as I,v as P,H as _,J as j}from"./vendor.49f89f0d.js";import{u as z}from"./lock.c5636ec8.js";import{u as B}from"./zIndex.8c13fd4c.js";import{u as T,g as V}from"./components.721843ff.js";import"./index.e35ca8e8.js";function A(e){return["top","bottom","right","left","center"].includes(e)}const L={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:A},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},onClickOverlay:{type:Function},onRouteChange:{type:Function},"onUpdate:show":{type:Function}};function R(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!j(e)}var u=x({name:"VarPopup",inheritAttrs:!1,props:L,setup(e,{slots:o,attrs:a}){const{zIndex:i}=B(()=>e.show,3),{disabled:v}=T(),f=()=>{var r;const{closeOnClickOverlay:t,onClickOverlay:n}=e;n==null||n(),!!t&&((r=e["onUpdate:show"])==null||r.call(e,!1))};z(e,"show","lockScroll"),F(()=>e.show,t=>{const{onOpen:n,onClose:r}=e;t?n==null||n():r==null||r()}),V(()=>{var t;return(t=e.onRouteChange)==null?void 0:t.call(e)});const m=()=>{const{overlayClass:t,overlayStyle:n}=e;return l("div",{class:["var-popup__overlay",t],style:p({zIndex:i.value-1},n),onClick:f},null)},h=()=>{var t;return l("div",_({class:["var-popup__content","var-elevation--3",`var-popup--${e.position}`],style:{zIndex:i.value}},a),[(t=o.default)==null?void 0:t.call(o)])},c=()=>{const{onOpened:t,onClosed:n,show:r,overlay:w,transition:C,position:S}=e;return l(y,{name:"var-fade",onAfterEnter:t,onAfterLeave:n},{default:()=>[I(l("div",{class:"var--box var-popup",style:{zIndex:i.value-2}},[w&&m(),l(y,{name:C||`var-pop-${S}`},{default:()=>[r&&h()]})]),[[P,r]])]})};return()=>{const{teleport:t}=e;if(t){let n;return l(k,{to:t,disabled:v.value},R(n=c())?n:{default:()=>[n]})}return c()}}});u.install=function(e){e.component(u.name,u)};export{u as P,L as p};
